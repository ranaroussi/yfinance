*************
Documentation
*************

.. contents:: Documentation:
   :local:

About documentation
-------------------
* yfinance documentation is written in reStructuredText (rst) and built using Sphinx.
* The documentation file is in ``doc/source/..``.
* Most of the notes under API References read from class and methods docstrings. These documentations, found in ``doc/source/reference/api`` is autogenerated by Sphinx and not included in git.

Building documentation locally
-------------------------------
To build the documentation locally, follow these steps:

1. **Install Required Dependencies**:

   * Make sure ``Sphinx`` and any other dependencies are installed. If a ``requirements.txt`` file is available, you can install dependencies by running:

   .. code-block:: bash

      pip install -r requirements.txt
      pip install Sphinx==8.0.2 pydata-sphinx-theme==0.15.4 Jinja2==3.1.4 sphinx-copybutton==0.5.2
  

2. **Build with Sphinx**:
    
   * After dependencies are installed, use the sphinx-build command to generate HTML documentation. 
   * Go to ``doc/`` directory Run:

   .. code-block:: bash

      sphinx-build -b html doc/source doc/_build/html

3. **View Documentation Locally**:

   .. code-block:: bash

      python -m http.server -d ./doc/_build/html

   Then open "localhost:8000" in browser


Publishing documentation
------------------------

Merge into ``main`` branch triggers auto-generating documentation by action ``.github/workflows/deploy_doc.yml``.
This publishes the generated HTML into branch ``documentation``.

1. Review the changes locally and push to ``dev``.

2. When ``dev`` gets merged to ``main``, GitHub Actions workflow is automated to build documentation.